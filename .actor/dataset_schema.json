{
    "actorSpecification": 1,
    "fields": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "type": "object",
        "properties": {
            "domain": {
                "type": "string",
                "description": "The domain that was searched"
            },
            "organization": {
                "type": "object",
                "description": "Organization information for the domain",
                "properties": {
                    "website_url": {
                        "type": ["string", "null"],
                        "description": "Company website URL"
                    },
                    "organization": {
                        "type": ["string", "null"],
                        "description": "Company name"
                    },
                    "location": {
                        "type": "object",
                        "description": "Company location details",
                        "properties": {
                            "country": {
                                "type": ["string", "null"],
                                "description": "Country code"
                            },
                            "city": {
                                "type": ["string", "null"],
                                "description": "City name"
                            },
                            "state": {
                                "type": ["string", "null"],
                                "description": "State/Province"
                            },
                            "street_address": {
                                "type": ["string", "null"],
                                "description": "Street address"
                            },
                            "postal_code": {
                                "type": ["string", "null"],
                                "description": "Postal/ZIP code"
                            }
                        }
                    },
                    "social_links": {
                        "type": "object",
                        "description": "Company social media links",
                        "properties": {
                            "twitter_url": {
                                "type": ["string", "null"],
                                "description": "Twitter profile URL"
                            },
                            "facebook_url": {
                                "type": ["string", "null"],
                                "description": "Facebook page URL"
                            },
                            "linkedin_url": {
                                "type": ["string", "null"],
                                "description": "LinkedIn company page URL"
                            }
                        }
                    },
                    "phone_number": {
                        "type": ["string", "null"],
                        "description": "Company phone number"
                    },
                    "industries": {
                        "type": ["string", "null"],
                        "description": "Company industry"
                    },
                    "founded": {
                        "type": ["string", "null"],
                        "description": "Year company was founded"
                    },
                    "company_size": {
                        "type": ["string", "null"],
                        "description": "Company size range"
                    },
                    "company_type": {
                        "type": ["string", "null"],
                        "description": "Type of company (publicly traded, privately held, etc.)"
                    },
                    "revenue": {
                        "type": ["string", "null"],
                        "description": "Company revenue range"
                    },
                    "description": {
                        "type": ["string", "null"],
                        "description": "Company description"
                    },
                    "whois": {
                        "type": "object",
                        "description": "Domain WHOIS information",
                        "properties": {
                            "registrar_name": {
                                "type": ["string", "null"],
                                "description": "Domain registrar"
                            },
                            "created_date": {
                                "type": ["string", "null"],
                                "description": "Domain creation date"
                            }
                        }
                    }
                }
            },
            "emails": {
                "type": "array",
                "description": "Array of email addresses found for the domain",
                "items": {
                    "type": "object",
                    "properties": {
                        "email": {
                            "type": "string",
                            "description": "Email address"
                        },
                        "first_name": {
                            "type": ["string", "null"],
                            "description": "First name of the person"
                        },
                        "last_name": {
                            "type": ["string", "null"],
                            "description": "Last name of the person"
                        },
                        "position": {
                            "type": ["string", "null"],
                            "description": "Job position"
                        },
                        "department": {
                            "type": ["string", "null"],
                            "description": "Department"
                        },
                        "full_name": {
                            "type": ["string", "null"],
                            "description": "Full name of the person"
                        },
                        "gender": {
                            "type": ["string", "null"],
                            "description": "Gender of the person"
                        },
                        "phone_number": {
                            "type": ["boolean", "string", "null"],
                            "description": "Whether person has phone number available"
                        },
                        "type": {
                            "type": ["string", "null"],
                            "description": "Email type (personal, generic, etc.)"
                        },
                        "country": {
                            "type": ["string", "null"],
                            "description": "Country of the person"
                        },
                        "seniority": {
                            "type": ["string", "null"],
                            "description": "Seniority level"
                        },
                        "twitter": {
                            "type": ["string", "null"],
                            "description": "Twitter profile URL"
                        },
                        "linkedin": {
                            "type": ["string", "null"],
                            "description": "LinkedIn profile URL"
                        },
                        "score": {
                            "type": ["number", "null"],
                            "description": "Confidence score for the email"
                        },
                        "verification": {
                            "type": "object",
                            "description": "Email verification status",
                            "properties": {
                                "date": {
                                    "type": ["string", "null"],
                                    "description": "Verification date"
                                },
                                "status": {
                                    "type": ["string", "null"],
                                    "description": "Verification status (valid, invalid, etc.)"
                                }
                            }
                        },
                        "sources": {
                            "type": "array",
                            "description": "Sources where the email was found",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "uri": {
                                        "type": ["string", "null"],
                                        "description": "Source URI"
                                    },
                                    "website_url": {
                                        "type": ["string", "null"],
                                        "description": "Website URL where found"
                                    },
                                    "extracted_on": {
                                        "type": ["string", "null"],
                                        "description": "Extraction date"
                                    },
                                    "last_seen_on": {
                                        "type": ["string", "null"],
                                        "description": "Last seen date"
                                    },
                                    "still_on_page": {
                                        "type": ["boolean", "null"],
                                        "description": "Whether still on page"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "meta": {
                "type": "object",
                "description": "Metadata about the search results",
                "properties": {
                    "total": {
                        "type": ["number", "null"],
                        "description": "Total number of emails found"
                    },
                    "params": {
                        "type": "object",
                        "description": "Search parameters used"
                    }
                }
            }
        }
    },
    "views": {
        "overview": {
            "title": "Domain Search Results",
            "description": "Overview of email addresses found for each domain",
            "transformation": {
                "fields": [
                    "domain",
                    "organization.website_url",
                    "organization.organization",
                    "organization.location.country",
                    "organization.location.city",
                    "organization.location.state",
                    "organization.industries",
                    "organization.founded",
                    "organization.company_size",
                    "organization.company_type",
                    "organization.revenue",
                    "organization.phone_number",
                    "organization.description",
                    "organization.social_links.linkedin_url",
                    "organization.social_links.twitter_url",
                    "emails",
                    "meta.total",
                    "meta.params"
                ],
                "flatten": ["organization", "organization.location", "organization.social_links", "meta"]
            },
            "display": {
                "component": "table",
                "properties": {
                    "domain": {
                        "label": "Domain",
                        "format": "text"
                    },
                    "organization.website_url": {
                        "label": "Website",
                        "format": "url"
                    },
                    "organization.organization": {
                        "label": "Company Name",
                        "format": "text"
                    },
                    "organization.location.country": {
                        "label": "Country",
                        "format": "text"
                    },
                    "organization.location.city": {
                        "label": "City",
                        "format": "text"
                    },
                    "organization.location.state": {
                        "label": "State",
                        "format": "text"
                    },
                    "organization.industries": {
                        "label": "Industry",
                        "format": "text"
                    },
                    "organization.founded": {
                        "label": "Founded",
                        "format": "text"
                    },
                    "organization.company_size": {
                        "label": "Company Size",
                        "format": "text"
                    },
                    "organization.company_type": {
                        "label": "Company Type",
                        "format": "text"
                    },
                    "organization.revenue": {
                        "label": "Revenue",
                        "format": "text"
                    },
                    "organization.phone_number": {
                        "label": "Phone",
                        "format": "text"
                    },
                    "organization.description": {
                        "label": "Description",
                        "format": "text"
                    },
                    "organization.social_links.linkedin_url": {
                        "label": "LinkedIn",
                        "format": "url"
                    },
                    "organization.social_links.twitter_url": {
                        "label": "Twitter",
                        "format": "url"
                    },
                    "emails": {
                        "label": "Email Results",
                        "format": "array"
                    },
                    "meta.total": {
                        "label": "Total Found",
                        "format": "number"
                    },
                    "meta.params": {
                        "label": "Search Parameters",
                        "format": "object"
                    }
                }
            }
        },
        "emails": {
            "title": "Individual Emails",
            "description": "Detailed view of individual email addresses",
            "transformation": {
                "fields": ["domain", "emails"],
                "unwind": ["emails"]
            },
            "display": {
                "component": "table",
                "properties": {
                    "domain": {
                        "label": "Domain",
                        "format": "text"
                    },
                    "email": {
                        "label": "Email",
                        "format": "text"
                    },
                    "first_name": {
                        "label": "First Name",
                        "format": "text"
                    },
                    "last_name": {
                        "label": "Last Name",
                        "format": "text"
                    },
                    "full_name": {
                        "label": "Full Name",
                        "format": "text"
                    },
                    "position": {
                        "label": "Position",
                        "format": "text"
                    },
                    "department": {
                        "label": "Department",
                        "format": "text"
                    },
                    "seniority": {
                        "label": "Seniority",
                        "format": "text"
                    },
                    "type": {
                        "label": "Email Type",
                        "format": "text"
                    },
                    "country": {
                        "label": "Person Country",
                        "format": "text"
                    },
                    "linkedin": {
                        "label": "LinkedIn",
                        "format": "url"
                    },
                    "score": {
                        "label": "Confidence Score",
                        "format": "number"
                    },
                    "verification": {
                        "label": "Verification",
                        "format": "object"
                    },
                    "sources": {
                        "label": "Sources",
                        "format": "array"
                    }
                }
            }
        },
        "company": {
            "title": "Company Information",
            "description": "Detailed company information for each domain",
            "transformation": {
                "fields": [
                    "domain",
                    "organization.website_url",
                    "organization.organization",
                    "organization.location.country",
                    "organization.location.city",
                    "organization.location.state",
                    "organization.location.street_address",
                    "organization.location.postal_code",
                    "organization.industries",
                    "organization.founded",
                    "organization.company_size",
                    "organization.company_type",
                    "organization.revenue",
                    "organization.phone_number",
                    "organization.description",
                    "organization.social_links.linkedin_url",
                    "organization.social_links.twitter_url",
                    "organization.social_links.facebook_url",
                    "organization.whois.registrar_name",
                    "organization.whois.created_date"
                ],
                "flatten": ["organization", "organization.location", "organization.social_links", "organization.whois"]
            },
            "display": {
                "component": "table",
                "properties": {
                    "domain": {
                        "label": "Domain",
                        "format": "text"
                    },
                    "organization.website_url": {
                        "label": "Website",
                        "format": "url"
                    },
                    "organization.organization": {
                        "label": "Company Name",
                        "format": "text"
                    },
                    "organization.description": {
                        "label": "Description",
                        "format": "text"
                    },
                    "organization.industries": {
                        "label": "Industry",
                        "format": "text"
                    },
                    "organization.founded": {
                        "label": "Founded",
                        "format": "text"
                    },
                    "organization.company_size": {
                        "label": "Company Size",
                        "format": "text"
                    },
                    "organization.company_type": {
                        "label": "Company Type",
                        "format": "text"
                    },
                    "organization.revenue": {
                        "label": "Revenue",
                        "format": "text"
                    },
                    "organization.location.country": {
                        "label": "Country",
                        "format": "text"
                    },
                    "organization.location.city": {
                        "label": "City",
                        "format": "text"
                    },
                    "organization.location.state": {
                        "label": "State/Province",
                        "format": "text"
                    },
                    "organization.location.street_address": {
                        "label": "Address",
                        "format": "text"
                    },
                    "organization.location.postal_code": {
                        "label": "Postal Code",
                        "format": "text"
                    },
                    "organization.phone_number": {
                        "label": "Phone",
                        "format": "text"
                    },
                    "organization.social_links.linkedin_url": {
                        "label": "LinkedIn",
                        "format": "url"
                    },
                    "organization.social_links.twitter_url": {
                        "label": "Twitter",
                        "format": "url"
                    },
                    "organization.social_links.facebook_url": {
                        "label": "Facebook",
                        "format": "url"
                    },
                    "organization.whois.registrar_name": {
                        "label": "Domain Registrar",
                        "format": "text"
                    },
                    "organization.whois.created_date": {
                        "label": "Domain Created",
                        "format": "text"
                    }
                }
            }
        }
    }
}
